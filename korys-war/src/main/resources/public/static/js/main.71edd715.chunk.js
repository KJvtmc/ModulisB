(this["webpackJsonpkorys-ui"]=this["webpackJsonpkorys-ui"]||[]).push([[0],{44:function(e,t,a){e.exports=a(79)},49:function(e,t,a){},50:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(0),c=a.n(r),l=a(41),o=a.n(l),u=(a(49),a(50),a(14)),s=a.n(u),i=a(20),m=a(15),d=a(16),p=a(18),E=a(17),v=Object(r.createContext)({}),b=a(19);var h=function(e){var t=Object(r.useContext)(v),a=t.cart,n=t.setCart,l=t.setProductdetails,o=null===e.product.imageUrl,u=""===e.product.description;return c.a.createElement("div",{className:"card",style:{width:"18 rem"}},c.a.createElement("img",{src:o?e.product.imageUrl:"https://miro.medium.com/max/880/0*H3jZONKqRuAAeHnG.jpg",className:"card-img-top",alt:"item"}),c.a.createElement("div",{className:"card-body "},c.a.createElement("h5",{className:"card-title"},e.product.title),c.a.createElement("p",{className:"card-text"},u?e.product.description:"Description is comming soon"),c.a.createElement("p",{className:"card-text"},"Price: ",e.product.price),c.a.createElement("p",{className:"card-text"},"Items in stock: ",e.product.quantity),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return n(a+1)}},"Add to cart"),c.a.createElement(b.b,{to:"/".concat(e.id)},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return l(e.product)}},"To product"))))},f=function(e){return c.a.createElement(h,{product:e.product,id:e.id})},N=function(e){var t=e.products;return c.a.createElement("div",{className:"container "},c.a.createElement("div",{className:"row"},e.products.map((function(a){return c.a.createElement("div",{key:e.products.indexOf(a),className:"col-4"},c.a.createElement(f,{product:a,id:t.indexOf(a)}))}))))},y=a(22),g=a.n(y),j=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={products:[{id:0,title:"Loading",imageUrl:"https://miro.medium.com/max/880/0*H3jZONKqRuAAeHnG.jpg",price:"Loading",description:"Loading",quantity:"Loading"}]},e.api=g.a.create({baseURL:"http://localhost:8081/hello-world-calc/product/list/"}),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.get("/");case 2:a=t.sent,n=a.data,e.setState({products:n});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),1e3)}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement(N,{products:this.state.products})))}}]),a}(r.Component);var O=function(){var e=Object(r.useContext)(v),t=e.setUsername,a=e.setShowusername;return c.a.createElement("form",{className:"container-fluid"},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){t(e.target.value)}}),c.a.createElement("button",{onClick:function(){a(!0)}},"Login")))};var x=function(){var e=Object(r.useContext)(v).username;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,"Hello ",e))};var k=function(){var e=Object(r.useContext)(v),t=e.showusername,a=e.cart;return c.a.createElement("div",{className:"App"},c.a.createElement("main",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col "},t?c.a.createElement(x,null):c.a.createElement(O,null)),c.a.createElement("div",{className:"col-2"},c.a.createElement("button",{className:"btn btn-primary"},"Your cart ",a))),c.a.createElement(j,null)))},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)}))},C=a(5),P=function(e){console.log("in user component "),console.log(e);var t=e.user,a=t.userName,n=t.firstName,r=t.lastName;return console.log(a),c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"}),c.a.createElement("td",null,a),c.a.createElement("td",null," ",n),c.a.createElement("td",null,r))},L=function(e){var t=e.users;return console.log("UserListComponent "),console.log(t),c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),c.a.createElement("th",{scope:"col"},"Username"),c.a.createElement("th",{scope:"col"},"Firstname"),c.a.createElement("th",{scope:"col"},"Lastname"))),c.a.createElement("tbody",null,t.map((function(e){return c.a.createElement(P,{key:t.indexOf(e),user:e})}))))},Q=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={users:[]},e.api=g.a.create({baseURL:"http://localhost:8081/hello-world-calc/api/users"}),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.api.get("/");case 3:a=t.sent,n=a.data,e.setState({users:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),1e3)}},{key:"render",value:function(){return null!==this.state.users?c.a.createElement("div",{className:"container-flexible"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement(L,{users:this.state.users})))):c.a.createElement("div",{className:"container-flexible"},c.a.createElement("div",{className:"row"},c.a.createElement("h1",null,"No registered users found")))}}]),a}(r.Component),A=a(82),U=a(83),H=a(81),S=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).loadProducts=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.api.get("/");case 3:a=t.sent,n=a.data,e.setState({products:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.addProduct=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={title:e.formData.current.productName.value,price:e.formData.current.productPrice.value,quantity:Number(e.formData.current.productQuantity.value),maxQuantity:Number(e.formData.current.productQuantity.value)},t.next=4,e.api.post("/",{newProduct:n});case 4:r=t.sent,console.log(r),e.state.products.push(n),e.loadProducts();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.incrementQuantity=function(t){var a=t.target.value;e.state.products[a].productQuantity=e.state.products[a].productQuantity+1,e.setState({products:e.state.products})},e.decrementQuantity=function(t){var a=t.target.value;e.state.products[a].productQuantity>0&&(e.state.products[a].productQuantity=e.state.products[a].productQuantity-1,e.setState({products:e.state.products}))},e.state={products:[]},e.api=g.a.create({baseURL:"http://localhost:8081/hello-world-calc/product/list"}),e.loadProducts(),setTimeout(e.loadProducts,1e3),e.formData=Object(r.createRef)(),e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(A.a,{onSubmit:this.addProduct,ref:this.formData},c.a.createElement(A.a.Group,{className:"mb-3",controlId:"formBasicProductName"},c.a.createElement(A.a.Label,null,"Product name"),c.a.createElement(A.a.Control,{type:"text",placeholder:"Enter product name",name:"productName"})),c.a.createElement(A.a.Group,{className:"mb-3",controlId:"formBasicPrice"},c.a.createElement(A.a.Label,null,"Product price"),c.a.createElement(A.a.Control,{type:"number",min:"0",step:"0.01",precision:"2",placeholder:"Product price in eur",name:"productPrice"})),c.a.createElement(A.a.Group,{className:"mb-3",controlId:"formBasicQuantity"},c.a.createElement(A.a.Label,null,"Product Quantity"),c.a.createElement(A.a.Control,{type:"number",min:"0",placeholder:"Quantity",name:"productQuantity"})),c.a.createElement(U.a,{className:"mb-3",variant:"primary",type:"submit"},"Add to inventory")),c.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nr."),c.a.createElement("th",null,"Product name"),c.a.createElement("th",null,"Product price"),c.a.createElement("th",null,"Product Quantity"),c.a.createElement("th",null,"+/-"))),c.a.createElement("tbody",null,this.state.products.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,a+1),c.a.createElement("td",null,t.title),c.a.createElement("td",null,t.price),c.a.createElement("td",null,t.quantity),c.a.createElement("td",null,c.a.createElement(U.a,{variant:"success",onClick:function(t){return e.incrementQuantity(t)},value:a},"+"),c.a.createElement(U.a,{variant:"danger",onClick:function(t){return e.decrementQuantity(t)},value:a},"-")))})))))}}]),a}(r.Component),D=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("header",{className:"px-3 text-center"},c.a.createElement("h2",null,"Hello Admin   ")),c.a.createElement("main",{className:"px-3"},c.a.createElement("h3",null,"Products"),c.a.createElement(S,null),c.a.createElement("h3",null,"Registered users"),c.a.createElement(Q,null)))}}]),a}(r.Component);var q=function(){var e=Object(r.useContext)(v),t=e.cart,a=e.setCart,n=e.productdetails,l=e.showusername,o=null===n.imageUrl,u=""===n.description;return c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col "},l?c.a.createElement(x,null):c.a.createElement(O,null)),c.a.createElement("div",{className:"col-2"},c.a.createElement("button",{className:"btn btn-primary"},"Your cart ",t))),c.a.createElement("div",{className:"card",style:{width:"18 rem"}},c.a.createElement("h1",null,"item ",n.title," "),c.a.createElement("img",{src:o?n.imageUrl:"https://miro.medium.com/max/880/0*H3jZONKqRuAAeHnG.jpg",className:"card-img-top",alt:"item"}),c.a.createElement("div",{className:"card-body "},c.a.createElement("h5",{className:"card-title"},n.title),c.a.createElement("p",{className:"card-text"},u?n.description:"Description is comming soon"),c.a.createElement("p",{className:"card-text"},"Price: ",n.price),c.a.createElement("p",{className:"card-text"},"Items in stock: ",n.quantity),c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a(t+1)}},"Add to cart"),c.a.createElement(b.b,{to:"/"},c.a.createElement("button",{className:"btn btn-primary"},"To Home")))))},R=function(e){return c.a.createElement("div",null,"Route did not match",c.a.createElement("button",{onClick:function(){return e.history.push("/")}},"Go Home"))},G=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),l=a[0],o=a[1],u=Object(r.useState)(""),s=Object(n.a)(u,2),i=s[0],m=s[1],d=Object(r.useState)(0),p=Object(n.a)(d,2),E=p[0],h=p[1],f=Object(r.useState)({id:0,title:"Loading",imageUrl:"https://miro.medium.com/max/880/0*H3jZONKqRuAAeHnG.jpg",price:"Loading",description:"Loading",quantity:"Loading"}),N=Object(n.a)(f,2),y=N[0],g=N[1];return c.a.createElement("div",null,c.a.createElement(v.Provider,{value:{username:i,setUsername:m,showusername:l,setShowusername:o,cart:E,setCart:h,productdetails:y,setProductdetails:g}},c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-light bg-light"},c.a.createElement("div",{className:"container-fltuid align-start"},c.a.createElement(b.b,{className:"px-3",to:"/"}," Home "),c.a.createElement(b.b,{className:"px-3",to:"/pages/Admin"}," Admin ")))),e.children))};o.a.render(c.a.createElement("div",null,c.a.createElement(b.a,null,c.a.createElement(G,null,c.a.createElement(C.c,null,c.a.createElement(C.a,{exact:!0,path:"/",component:k}),c.a.createElement(C.a,{path:"/pages/Admin",component:D}),c.a.createElement(C.a,{path:"/:id",component:q}),c.a.createElement(C.a,{path:"*",component:R}),c.a.createElement(C.a,{component:R}))))),document.getElementById("root")),w()}},[[44,1,2]]]);
//# sourceMappingURL=main.71edd715.chunk.js.map