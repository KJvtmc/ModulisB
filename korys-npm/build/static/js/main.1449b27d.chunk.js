(this["webpackJsonpkorys-war"]=this["webpackJsonpkorys-war"]||[]).push([[0],{120:function(e,a,t){"use strict";t.r(a);var n=t(9),r=(t(62),t(63),t(0)),c=t.n(r),l=t(24),i=t.n(l),s=(t(89),t(90),t(22)),o=t.n(s),m=t(30),u=t(7),d=t(8),p=t(12),E=t(11),v=(t(119),t(129)),b=t(124),f=Object(r.createContext)({}),k=t(23);var h=function(e){var a=Object(r.useContext)(f),t=a.productdetails,n=a.setProductdetails;return c.a.createElement("div",{className:"card",style:{width:"18 rem"}},c.a.createElement("img",{src:e.product.imageUrl,className:"card-img-top",alt:"item"}),c.a.createElement("div",{className:"card-body "},c.a.createElement("h5",{className:"card-title"},e.product.title),c.a.createElement("p",{className:"card-text"},e.product.description),c.a.createElement("p",{className:"card-text"},"Turimos vakcinos:"),c.a.createElement(v.a,{as:"ol"},t.vakcinos.map((function(e){return c.a.createElement(v.a.Item,{key:e.pavadinimas,as:"li",className:"d-flex justify-content-between align-items-start"},c.a.createElement("div",{className:"ms-2 me-auto"},c.a.createElement("div",{className:"fw-bold"},e.pavadinimas)),c.a.createElement(b.a,{variant:"primary",pill:!0},e.kiekis))})),c.a.createElement(v.a.Item,{key:"bendras",as:"li",className:"d-flex justify-content-between align-items-start"},c.a.createElement("div",{className:"ms-2 me-auto"},c.a.createElement("div",{className:"fw-bold"},"Bendras vakcin\u0173 kiekis:")),c.a.createElement(b.a,{variant:"primary",pill:!0},t.vakcinos.map((function(e){return e.kiekis})).reduce((function(e,a){return e+a}),0)))),c.a.createElement(k.b,{to:"/registracija"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return n(e.product)}},"Registruoti pacient\u0105")),c.a.createElement(k.b,{to:"/".concat(e.id)},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return n(e.product)}},"Daugiau"))))},N=function(e){return c.a.createElement(h,{product:e.product,id:e.id})},y=function(e){var a=e.products;return c.a.createElement("div",{className:"container "},c.a.createElement("div",{className:"row"},e.products.map((function(t){return c.a.createElement("div",{key:e.products.indexOf(t),className:"col-4"},c.a.createElement(N,{product:t,id:a.indexOf(t)}))}))))},g=t(32),j=t.n(g),x=function(e){Object(p.a)(t,e);var a=Object(E.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).state={products:[]},e.api=j.a.create({baseURL:"http://localhost:8081/korys-war/vakcinacija/centrai/"}),e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(setTimeout(function(){var a=Object(m.a)(o.a.mark((function a(){var t,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.get("/");case 2:t=a.sent,n=t.data,e.setState({products:n});case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),1e3),console.log(this.state.products),0===this.state.products.length){var a=this.context;this.setState({products:[a.productdetails]})}}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement(y,{products:this.state.products})))}}]),t}(r.Component);x.contextType=f;var O=x;var P=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("main",null,c.a.createElement(O,null)))},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,130)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,c=a.getLCP,l=a.getTTFB;t(e),n(e),r(e),c(e),l(e)}))},w=t(6),L=function(e){console.log("in user component "),console.log(e);var a=e.user,t=a.userName,n=a.firstName,r=a.lastName;return console.log(t),c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"}),c.a.createElement("td",null,t),c.a.createElement("td",null," ",n),c.a.createElement("td",null,r))},S=function(e){var a=e.users;return console.log("UserListComponent "),console.log(a),c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),c.a.createElement("th",{scope:"col"},"Username"),c.a.createElement("th",{scope:"col"},"Firstname"),c.a.createElement("th",{scope:"col"},"Lastname"))),c.a.createElement("tbody",null,a.map((function(e){return c.a.createElement(L,{key:a.indexOf(e),user:e})}))))},B=function(e){Object(p.a)(t,e);var a=Object(E.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).state={users:[]},e.api=j.a.create({baseURL:"http://localhost:8081/korys-app/product/list"}),e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var a=Object(m.a)(o.a.mark((function a(){var t,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.api.get("/");case 3:t=a.sent,n=t.data,e.setState({users:n}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}(),1e3)}},{key:"render",value:function(){return null!==this.state.users?c.a.createElement("div",{className:"container-flexible"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement(S,{users:this.state.users})))):c.a.createElement("div",{className:"container-flexible"},c.a.createElement("div",{className:"row"},c.a.createElement("h1",null,"No registered users found")))}}]),t}(r.Component),G=t(128),A=t(125),D=t(126),I=function(e){Object(p.a)(t,e);var a=Object(E.a)(t);function t(){var e;return Object(u.a)(this,t),(e=a.call(this)).loadProducts=Object(m.a)(o.a.mark((function a(){var t,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.api.get("/");case 3:t=a.sent,n=t.data,e.setState({products:n}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))),e.addProduct=function(){var a=Object(m.a)(o.a.mark((function a(t){var n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n={title:e.formData.current.productName.value,imgNuoroda:e.formData.current.productIMG.value,aprasymas:e.formData.current.productDescription.value},a.next=4,e.api.post("/",{newProduct:n});case 4:r=a.sent,console.log(r),e.state.products.push(n),e.loadProducts();case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e.state={products:[]},e.api=j.a.create({baseURL:"http://localhost:8081/korys-npm/vakcinacija/centrai"}),e.loadProducts(),setTimeout(e.loadProducts,1e3),e.formData=Object(r.createRef)(),e}return Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(G.a,{onSubmit:this.addProduct,ref:this.formData},c.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicProductName"},c.a.createElement(G.a.Label,null,"Vakcinacijos centro pavadinimas"),c.a.createElement(G.a.Control,{type:"text",placeholder:"pavadinimas...",name:"productName"})),c.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicPrice"},c.a.createElement(G.a.Label,null,"Nuoroda \u012f paveiksliuk\u0105"),c.a.createElement(G.a.Control,{type:"text",placeholder:"nuoroda...",name:"imgNuoroda"})),c.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicQuantity"},c.a.createElement(G.a.Label,null,"Apra\u0161ymas"),c.a.createElement(G.a.Control,{type:"text",min:"0",placeholder:"apra\u0161ymas- ne ma\u017eiau kaip 6 \u017eod\u017eiai...",name:"aprasymas"})),c.a.createElement(A.a,{className:"mb-3",variant:"primary",type:"submit"},"Prid\u0117ti \u012f s\u0105ra\u0161\u0105")),c.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nr."),c.a.createElement("th",null,"Pavadinimas"),c.a.createElement("th",null,"Nuoroda"),c.a.createElement("th",null,"Apra\u0161ymas"))),c.a.createElement("tbody",null,this.state.products.map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,a+1),c.a.createElement("td",null,e.title),c.a.createElement("td",null,e.imgNuoroda),c.a.createElement("td",null,e.aprasymas))})))))}}]),t}(r.Component),R=function(e){Object(p.a)(t,e);var a=Object(E.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("header",{className:"px-3 text-center"},c.a.createElement("h2",null,"Puslapio administravimas   ")),c.a.createElement("main",{className:"px-3"},c.a.createElement("h3",null,"Vakcinacijos centrai"),c.a.createElement(I,null),c.a.createElement("h3",null,"Registruoti pacientai"),c.a.createElement(B,null)))}}]),t}(r.Component),T=t(127);var U=function(){var e=Object(r.useState)(!1),a=Object(n.a)(e,2),t=a[0],l=a[1],i=Object(r.useState)({nr:0,laisva:!1}),s=Object(n.a)(i,2),o=s[0],m=s[1],u=function(){return l(!1)},d=Object(r.useContext)(f),p=d.productdetails,E=d.setProductdetails,v=function(e){l(!0),m(e),console.log(e)};return c.a.createElement("div",null,c.a.createElement("div",{className:"card",style:{width:"18 rem"}},c.a.createElement("h1",null,p.title," "),c.a.createElement("img",{src:p.imageUrl,className:"card-img-top",alt:"item"}),c.a.createElement("div",{className:"card-body "},c.a.createElement("h5",{className:"card-title"},p.title),c.a.createElement("p",{className:"card-text"},p.description),c.a.createElement("p",{className:"card-text"},"Centro vieta: ",p.vieta," "),c.a.createElement(k.b,{to:"/pages/Admin"},c.a.createElement("button",{className:"btn btn-primary"},"Pakeisti viet\u0105")),c.a.createElement("p",{className:"card-text"},"Turimos vakcinos: "),c.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Vakcina"),c.a.createElement("th",null,"Kiekis"))),c.a.createElement("tbody",null,p.vakcinos.map((function(e){return c.a.createElement("tr",{key:e.pavadinimas},c.a.createElement("td",null,e.pavadinimas),c.a.createElement("th",null,e.kiekis))})))),c.a.createElement("p",{className:"card-text"},"Kabinos: "),c.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Kabinos nr."),c.a.createElement("th",null,"Statusas"),c.a.createElement("th",null,"Pakeisti status\u0105"),c.a.createElement("th",null,"Pa\u0161alinti"))),c.a.createElement("tbody",null,p.kabinos.map((function(e){return c.a.createElement("tr",{key:e.nr},c.a.createElement("td",null,e.nr),c.a.createElement("th",null,e.laisva?"Laisva":"U\u017eimta"),c.a.createElement("td",null,c.a.createElement(A.a,{variant:"danger",onClick:function(){return v(e)}},"Pakeisti status\u0105")),c.a.createElement("td",null,c.a.createElement(A.a,{variant:"danger",onClick:function(){return alert("Ar tikrai norite panaikinti kabin\u0105?")}},"-")))})))),c.a.createElement(T.a,{show:t,onHide:u},c.a.createElement(T.a.Header,{closeButton:!0},c.a.createElement(T.a.Title,null,"\u012esp\u0117jimas")),c.a.createElement(T.a.Body,null,"Ar tikrai norite pakeisti kabinos status\u0105?"),c.a.createElement(T.a.Footer,null,c.a.createElement(A.a,{variant:"secondary",onClick:function(){console.log("hghg");var e=p;console.log(e);var a=e.kabinos;console.log(o);var t=a.indexOf(o);console.log(t),-1!==t&&(a[t]={nr:o.nr,laisva:!o.laisva}),console.log(a),E(e),console.log(p),u()}},"Keisti"),c.a.createElement(A.a,{variant:"primary",onClick:u},"Nekeisti"))),c.a.createElement(G.a,null,c.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicProductName"},c.a.createElement(G.a.Label,null,"Kabinos nr."),c.a.createElement(G.a.Control,{type:"number",name:"productName"})),c.a.createElement(A.a,{className:"mb-3",variant:"primary",type:"submit"},"Prid\u0117ti \u012f s\u0105ra\u0161\u0105")),c.a.createElement(k.b,{to:"/registracija"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return E(p)}},"Registruoti pacient\u0105")),c.a.createElement(k.b,{to:"/"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return E(p)}},"Gr\u012f\u017eti")))))},K=t(17);var V=function(e){return c.a.createElement("div",null,"Route did not match",c.a.createElement("button",{onClick:function(){return e.history.push("/")}},"Go Home"))},F=function(e){var a=Object(r.useState)({id:0,title:"Vakcinacijos centras",imageUrl:"https://miro.medium.com/max/880/0*H3jZONKqRuAAeHnG.jpg",description:"Kraunasi",vieta:"default",kabinos:[{nr:1,laisva:!0},{nr:2,laisva:!1},{nr:3,laisva:!0}],vakcinos:[{pavadinimas:"Moderna (Spikevax)",kiekis:1},{pavadinimas:"Pfizer\u2013BioNTech (Comirnaty)",kiekis:2},{pavadinimas:"Oxford\u2013AstraZeneca (Vaxzevria)",kiekis:3},{pavadinimas:"Johnson & Johnson (Janssen)",kiekis:4},{pavadinimas:"Pfizer\u2013BioNTech (5-11 met\u0173 vaikams)",kiekis:0}]}),t=Object(n.a)(a,2),l=t[0],i=t[1];return c.a.createElement("div",null,c.a.createElement(f.Provider,{value:{productdetails:l,setProductdetails:i}},c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-light bg-light"},c.a.createElement("div",{className:"container-fltuid align-start"},c.a.createElement(k.b,{className:"px-3",to:"/"}," Vakcinacijos centrai "),c.a.createElement(k.b,{className:"px-3",to:"/pages/Admin"}," Centr\u0173 s\u0105ra\u0161o tvarkymas ")))),e.children))};i.a.render(c.a.createElement("div",null,c.a.createElement(k.a,{basename:"/korys-war"},c.a.createElement(F,null,c.a.createElement(w.c,null,c.a.createElement(w.a,{exact:!0,path:"/",component:P}),c.a.createElement(w.a,{path:"/pages/Admin",component:R}),c.a.createElement(w.a,{path:"/registracija",component:function(){var e=Object(r.useContext)(f),a=e.productdetails,t=(e.setProductdetails,Object(r.useState)([])),l=Object(n.a)(t,2),i=l[0],s=l[1],o=Object(r.createRef)();return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h1",null," Registracija \u012f ",a.title)),c.a.createElement(G.a,{onSubmit:function(e){e.preventDefault();var a={productName:o.current.productName.value,productPrice:o.current.productPrice.value,productQuantity:Number(o.current.productQuantity.value)};s([].concat(Object(K.a)(i),[a]))},ref:o},c.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicProductName"},c.a.createElement(G.a.Label,null,"Vardas"),c.a.createElement(G.a.Control,{type:"text",name:"productName"})),c.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicPrice"},c.a.createElement(G.a.Label,null,"Pavard\u0117"),c.a.createElement(G.a.Control,{type:"text",name:"productPrice"})),c.a.createElement(G.a.Group,{className:"mb-3",controlId:"formBasicQuantity"},c.a.createElement(G.a.Label,null,"Asmens kodas"),c.a.createElement(G.a.Control,{type:"number",min:"300000000",max:"499999999",name:"productQuantity"})),c.a.createElement(G.a.Group,{className:"mb-3"},c.a.createElement(G.a.Label,null,"Pasirinkite vakcin\u0105"),c.a.createElement(G.a.Select,null,a.vakcinos.map((function(e){return c.a.createElement("option",{key:e.pavadinimas},e.pavadinimas," Turimas kiekis:",e.kiekis)})))),c.a.createElement(G.a.Group,{className:"mb-3"},c.a.createElement(G.a.Label,null,"Pasirinkite kabin\u0105"),c.a.createElement(G.a.Select,null,a.kabinos.map((function(e){return c.a.createElement("option",{key:e.nr},e.nr," Statusas:",e.laisva?"laisva":"u\u017eimta")})))),c.a.createElement(A.a,{variant:"primary",type:"submit"},"Registruoti")))}}),c.a.createElement(w.a,{path:"/:id",component:U}),c.a.createElement(w.a,{path:"*",component:V}),c.a.createElement(w.a,{component:V}))))),document.getElementById("root")),C()},61:function(e,a,t){e.exports=t(120)},89:function(e,a,t){},90:function(e,a,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.1449b27d.chunk.js.map